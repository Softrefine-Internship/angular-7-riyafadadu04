<div class="container">
  <div class="row">
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div *ngFor="let field of formJson" class="form-field">
        <ng-container *ngIf="field.isVisible">
          <div *ngIf="field.type === 'text'" class="form-group m-3">
            <label for="{{ field.label }}"
              ><strong>{{ field.label }}:</strong
              ><span *ngIf="field.isRequired"> *</span></label
            >
            <input
              type="text"
              class="form-control my-2"
              id="{{ field.label }}"
              [formControlName]="field.label"
              [placeholder]="field.hint"
            />
            <p
              *ngIf="
                !registerForm.get(field.label)?.valid &&
                registerForm.get(field.label)?.touched
              "
            >
              {{ field.errorMessage }}
            </p>
          </div>

          <div *ngIf="field.type === 'number'" class="form-group m-3">
            <label for="{{ field.label }}"
              ><strong>{{ field.label }}:</strong
              ><span *ngIf="field.isRequired"> *</span></label
            >
            <input
              type="number"
              class="form-control my-2"
              id="{{ field.label }}"
              [formControlName]="field.label"
              [placeholder]="field.hint"
            />
            <p
              *ngIf="
                !registerForm.get(field.label)?.valid &&
                registerForm.get(field.label)?.touched
              "
            >
              {{ field.errorMessage }}
            </p>
          </div>

          <div
            *ngIf="field.type === 'range'"
            class="form-group m-3 d-flex align-items-center"
          >
            <label for="{{ field.label }}"
              ><strong>{{ field.label }}:</strong
              ><span *ngIf="field.isRequired"> *</span></label
            >
            <input
              type="range"
              class="form-control-range w-25 mx-2"
              id="{{ field.label }}"
              [formControlName]="field.label"
              [attr.min]="field.options?.[0]"
              [attr.max]="field.options?.[1]"
            />
          </div>

          <div *ngIf="field.type === 'dropdown'" class="form-group m-3">
            <label for="{{ field.label }}"
              ><strong>{{ field.label }}:</strong
              ><span *ngIf="field.isRequired"> *</span></label
            >
            <select
              id="{{ field.label }}"
              class="form-control my-2"
              [formControlName]="field.label"
            >
              <option value="" selected>{{ field.hint }}</option>
              <option *ngFor="let option of field.options" [value]="option">
                {{ option }}
              </option>
            </select>
            <p
              *ngIf="
                !registerForm.get(field.label)?.valid &&
                registerForm.get(field.label)?.touched
              "
            >
              {{ field.errorMessage }}
            </p>
          </div>

          <div *ngIf="field.type === 'textarea'" class="form-group m-3">
            <label for="{{ field.label }}"
              ><strong>{{ field.label }}:</strong
              ><span *ngIf="field.isRequired"> *</span></label
            >
            <textarea
              class="form-control my-2"
              id="{{ field.label }}"
              rows="3"
              [formControlName]="field.label"
              [placeholder]="field.hint"
            ></textarea>
          </div>

          <div *ngIf="field.type === 'checkbox'" class="form-group m-3">
            <input
              type="checkbox"
              id="{{ field.label }}"
              [formControlName]="field.label"
            />
            <label for="{{ field.label }}">
              {{ field.hint }}<span *ngIf="field.isRequired"> *</span>
            </label>
            <p
              *ngIf="
                !registerForm.get(field.label)?.valid &&
                registerForm.get(field.label)?.touched
              "
            >
              {{ field.errorMessage }}
            </p>
          </div>
        </ng-container>
      </div>
      <div class="form-group m-3">
        <button type="submit" class="btn btn-primary px-4">Submit</button>
      </div>
    </form>
  </div>
</div>
